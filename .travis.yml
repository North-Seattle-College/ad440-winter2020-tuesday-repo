language: node_js
node_js:
  - 12.16.1

#stores npm data to speed up ci
cache: npm

#only updates on commits from this brannch and master
branches:
  only:
    - develop
    - stor-dev-westus2

#changes directory to the ui branch for website updates
before install:
  - cd ui

#run the build setup in travis ci
script:
  - unset CI
  - npm test

#checking to see if this works
deploy:
  provider: azure_web_apps
  username: AZ_LOGIN_NAME       # If AZURE_WA_USERNAME isn't set
  password: AZ_PASSWORD         # If AZURE_WA_PASSWORD isn't set
